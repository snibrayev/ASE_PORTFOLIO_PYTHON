{% extends "base.html" %}
{% block content %}
<div style="max-width: 800px; margin: 50px auto; background: white; padding: 30px; border-radius: 8px; box-shadow: 0 4px 10px rgba(0,0,0,0.1);">
    <h2>Admin Dashboard</h2>
    <table style="width: 100%; border-collapse: collapse; margin-top: 20px;">
        <tr style="background-color: #f8f9fa; text-align: left;">
            <th style="padding: 10px;">Username</th>
            <th style="padding: 10px;">Role</th>
            <th style="padding: 10px;">Status</th>
            <th style="padding: 10px;">Actions</th>
        </tr>
        {% for u in users %}
        <tr style="border-bottom: 1px solid #eee;">
            <td style="padding: 10px;">{{ u.username }}</td>
            <td style="padding: 10px;">{{ u.role }}</td>
            <td style="padding: 10px;">
                {% if u.is_active %}<span style="color: green;">Active</span>
                {% else %}<span style="color: red;">Inactive</span>{% endif %}
            </td>
            <td style="padding: 10px;">
                <form action="{{ url_for('toggle_user', user_id=u.id) }}" method="post" style="display:inline;">
                    <button type="submit">{% if u.is_active %}Deactivate{% else %}Activate{% endif %}</button>
                </form>
                <form action="{{ url_for('delete_user', user_id=u.id) }}" method="post" style="display:inline;">
                    <button type="submit" style="color: white; background: red; border: none; padding: 2px 6px;" onclick="return confirm('Are you sure?');">Del</button>
                </form>
            </td>
        </tr>
        {% endfor %}
    </table>
</div>
{% endblock %}