{% extends "base.html" %}

{% block content %}
<div class="centered-justified" style="text-align: center;">
    <h1 style="color: #007bff;">Members Area</h1>
    <p>Welcome, <strong>{{ session['username'] }}</strong>!</p>
    <p>Role: <strong>{{ session['role'] }}</strong></p>

    {% if session['role'] == 'admin' %}
        <div style="margin-top: 20px; padding: 20px; background-color: #e2e6ea;">
            <h3>Admin Access</h3>
            <a href="{{ url_for('admin') }}" class="btn btn-primary">Go to Dashboard</a>
        </div>

    {% else %}
        <div style="margin-top: 30px; border-top: 1px solid #ccc; padding-top: 20px;">
            <h3>Want to become an Admin?</h3>

            <div style="margin-bottom: 15px;">
                <p>Click below to receive a verification code via email:</p>
                <a href="{{ url_for('request_code') }}" class="btn btn-info" style="background-color: #17a2b8; color: white; padding: 8px 15px; text-decoration: none; border-radius: 4px;">
                    Request Code
                </a>
            </div>

            <form method="POST" action="" style="max-width: 300px; margin: 0 auto;">
                {{ upgrade_form.hidden_tag() }}
                <div class="form-group">
                    {{ upgrade_form.admin_code(class="form-control", placeholder="Enter the code from your email") }}
                </div>
                <div class="form-group">
                    {{ upgrade_form.submit(class="btn btn-secondary", style="width: 100%;") }}
                </div>
            </form>
        </div>
    {% endif %}

    <div style="margin-top: 40px;">
        <a href="{{ url_for('logout') }}" style="color: red;">Log Out</a>
    </div>
</div>
{% endblock %}